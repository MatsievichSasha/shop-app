[{"D:\\Programming\\Cleveroad\\shop-app\\src\\components\\App.js":"1","D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\CreateCard.js":"2","D:\\Programming\\Cleveroad\\shop-app\\src\\firebase.js":"3","D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\Card.js":"4","D:\\Programming\\Cleveroad\\shop-app\\src\\contexts\\CardsContext.js":"5","D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\Cards.js":"6"},{"size":1250,"mtime":1609178226661,"results":"7","hashOfConfig":"8"},{"size":5419,"mtime":1609271439504,"results":"9","hashOfConfig":"8"},{"size":510,"mtime":1609243829742,"results":"10","hashOfConfig":"8"},{"size":1680,"mtime":1609271586378,"results":"11","hashOfConfig":"8"},{"size":1005,"mtime":1609263224963,"results":"12","hashOfConfig":"8"},{"size":519,"mtime":1609265621240,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"101b4nn",{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Programming\\Cleveroad\\shop-app\\src\\components\\App.js",[],"D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\CreateCard.js",["28","29"],"import React, { useRef, useState } from \"react\";\r\nimport { useCards } from \"../../contexts/CardsContext\";\r\nimport dbApp from 'firebase'\r\n\r\nexport default function CreateCard() {\r\n  const descriptionRef = useRef();\r\n\r\n  const initialFieldValues = {\r\n    name: \"\",\r\n    urlImg: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    discount: \"\",\r\n    discountDateEnd: \"\",\r\n  };\r\n\r\n  const [hasImage, setHasImage] = useState(false)\r\n\r\n  const [values, setValue] = useState(initialFieldValues);\r\n  console.log(values);\r\n\r\n  function handleInputChange({ target: { name, value } }) {\r\n    setValue({\r\n      ...values,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  async function onFileChange(e){\r\n    e.preventDefault();\r\n    const file = e.target.files[0]\r\n    const storageRef = dbApp.storage().ref()\r\n    const fileRef = storageRef.child(file.name) //create ref for file\r\n    await fileRef.put(file)\r\n      .then(()=>console.log('Uploaded file'))\r\n      setValue({\r\n        ...values,\r\n        urlImg: await fileRef.getDownloadURL(),\r\n      }); \r\n      setHasImage(prev=>!prev)\r\n      \r\n  }\r\n\r\n  const { sendData } = useCards();\r\n\r\n  function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n    sendData(values);\r\n  }\r\n  console.log(JSON.stringify(values));\r\n  return (\r\n    <div className=\"container\">\r\n      <button type=\"button\" className=\"close\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n      <section className=\"panel panel-default\">\r\n        <div className=\"panel-heading\">\r\n          <h3 className=\"panel-title\">Добавление/Редактирование товара</h3>\r\n        </div>\r\n        <div className=\"panel-body\">\r\n          <form\r\n            onSubmit={handleFormSubmit}\r\n            className=\"form-horizontal\"\r\n            role=\"form\"\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"name\" className=\"col-sm-3 control-label\">\r\n                Заголовок\r\n              </label>\r\n              <div className=\"col-sm-9\">\r\n                <input\r\n                  onChange={handleInputChange}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  placeholder=\"Название товара\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"control-label col-sm-3\" htmlFor=\"file_img\">\r\n                Изображение (jpg):\r\n              </label>\r\n              <input\r\n                onChange={onFileChange}\r\n                type=\"file\"\r\n                id=\"file_img\"\r\n                name=\"file_img\"\r\n              />\r\n            </div>\r\n            { hasImage && <div><img src={values.urlImg}/></div>\r\n            }\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"description\" className=\"col-sm-3 control-label\">\r\n                Описание\r\n              </label>\r\n              <div className=\"col-sm-9\">\r\n                <textarea\r\n                  onChange={handleInputChange}\r\n                  ref={descriptionRef}\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  className=\"form-control\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"price\" className=\"col-sm-3 control-label\">\r\n                Цена\r\n              </label>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  onChange={handleInputChange}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"price\"\r\n                  id=\"price\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"discount\" className=\"col-sm-3 control-label\">\r\n                Процент скидки\r\n              </label>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  onChange={handleInputChange}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"discount\"\r\n                  id=\"discount\"\r\n                  placeholder=\"от 10% до 90%\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label\r\n                className=\"col-sm-3 control-label\"\r\n                htmlFor=\"discountDateEnd\"\r\n              >\r\n                Дата окончания скидки:\r\n              </label>\r\n              <div className=\"col-sm-3\">\r\n                <input\r\n                  onChange={handleInputChange}\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"discountDateEnd\"\r\n                  id=\"discountDateEnd\"\r\n                  placeholder=\"dd.mm.yyyy\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <div className=\"col-sm-offset-3 col-sm-9\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                  Сохранить\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </section>\r\n      <p>{JSON.stringify(values)}</p>\r\n    </div>\r\n  );\r\n}\r\n","D:\\Programming\\Cleveroad\\shop-app\\src\\firebase.js",[],"D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\Card.js",["30"],"D:\\Programming\\Cleveroad\\shop-app\\src\\contexts\\CardsContext.js",["31"],"import React, { useContext, useState, useEffect } from \"react\";\r\nimport dbApp from \"firebase\";\r\n\r\nconst CardsContext = React.createContext();\r\n\r\nexport function useCards() {\r\n  return useContext(CardsContext);\r\n}\r\n\r\nexport default function CardsProvider({ children }) {\r\n  const [prodactObjects, setprodactObjects] = useState({});\r\n  const db = dbApp.database();\r\n\r\n  useEffect(() => {\r\n    db.ref()\r\n      .child(\"product\")\r\n      .on(\"value\", (snapshot) => {\r\n        if (snapshot.val() != null) {\r\n          setprodactObjects({\r\n            ...snapshot.val(),\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  console.log(JSON.stringify(prodactObjects));\r\n\r\n  function sendData(values) {\r\n    db.ref()\r\n      .child(\"product\")\r\n      .push(values, (err) => {\r\n        if (err) {\r\n          console.log(err);\r\n        }\r\n      });\r\n  }\r\n\r\n  const value = {\r\n    sendData,\r\n    prodactObjects,\r\n  };\r\n\r\n  return (\r\n    <CardsContext.Provider value={value}>{children}</CardsContext.Provider>\r\n  );\r\n}\r\n","D:\\Programming\\Cleveroad\\shop-app\\src\\components\\cards\\Cards.js",[],{"ruleId":"32","severity":1,"message":"33","line":61,"column":11,"nodeType":"34","endLine":65,"endColumn":12},{"ruleId":"35","severity":1,"message":"36","line":93,"column":32,"nodeType":"34","endLine":93,"endColumn":58},{"ruleId":"37","severity":1,"message":"38","line":52,"column":9,"nodeType":"34","endLine":52,"endColumn":39},{"ruleId":"39","severity":1,"message":"40","line":24,"column":6,"nodeType":"41","endLine":24,"endColumn":8,"suggestions":"42"},"jsx-a11y/no-redundant-roles","The element form has an implicit role of form. Defining this explicitly is redundant and should be avoided.","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'db'. Either include it or remove the dependency array.","ArrayExpression",["43"],{"desc":"44","fix":"45"},"Update the dependencies array to be: [db]",{"range":"46","text":"47"},[606,608],"[db]"]